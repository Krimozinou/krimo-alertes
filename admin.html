<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panneau Admin - Krimo Alertes</title>
  <link rel="stylesheet" href="/app.css" />
</head>
<body>

  <!-- ✅ LOGIN -->
  <div id="loginBox" class="card" style="max-width: 680px; margin: 30px auto; padding: 20px;">
    <h1 style="margin:0 0 12px 0;">Panneau Admin</h1>

    <div style="display:flex; gap:10px; flex-wrap:wrap;">
      <input id="username" placeholder="Nom d'utilisateur" style="flex:1; min-width:200px;" />
      <input id="password" type="password" placeholder="Mot de passe" style="flex:1; min-width:200px;" />
      <button id="loginBtn">Connexion</button>
    </div>

    <div id="loginMsg" style="margin-top:10px; color:#b00020;"></div>
  </div>

  <!-- ✅ PANEL -->
  <div id="panel" class="card" style="display:none; max-width: 980px; margin: 30px auto; padding: 20px;">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
      <h1 style="margin:0;">Panneau Admin</h1>
      <button id="logoutBtn">Déconnexion</button>
    </div>

    <div style="margin-top:14px; display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
      <!-- Niveau -->
      <div>
        <label style="display:block; margin-bottom:6px;">Niveau</label>
        <select id="level" style="width:100%;">
          <option value="none">Aucune alerte</option>
          <option value="yellow">Jaune (Niveau 01)</option>
          <option value="orange">Orange (Niveau 02)</option>
          <option value="red">Rouge (Niveau 03)</option>
        </select>
      </div>

      <!-- Recherche -->
      <div>
        <label style="display:block; margin-bottom:6px;">Rechercher une wilaya</label>
        <input id="zoneSearch" placeholder="Tape un nom (ex: Chlef, Alger...)" style="width:100%;" />
      </div>

      <!-- Début -->
      <div>
        <label style="display:block; margin-bottom:6px;">Début (optionnel)</label>
        <input id="startAt" type="datetime-local" style="width:100%;" />
      </div>

      <!-- Fin -->
      <div>
        <label style="display:block; margin-bottom:6px;">Fin (optionnel)</label>
        <input id="endAt" type="datetime-local" style="width:100%;" />
      </div>
    </div>

    <!-- ✅ Multi-wilayas -->
    <div style="margin-top:12px;">
      <label style="display:block; margin-bottom:6px;">Wilayas concernées (tu peux en choisir plusieurs)</label>

      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;">
        <button id="selectAllBtn" type="button">Tout sélectionner</button>
        <button id="clearAllBtn" type="button" style="background:#e9eef6;color:#111;">Tout enlever</button>
      </div>

      <select id="zones" multiple size="12" style="width:100%; padding:10px;">
        <!-- ✅ 69 zones -->
        <option>Adrar</option>
        <option>Chlef</option>
        <option>Laghouat</option>
        <option>Oum El Bouaghi</option>
        <option>Batna</option>
        <option>Béjaïa</option>
        <option>Biskra</option>
        <option>Béchar</option>
        <option>Blida</option>
        <option>Bouira</option>
        <option>Tamanrasset</option>
        <option>Tébessa</option>
        <option>Tlemcen</option>
        <option>Tiaret</option>
        <option>Tizi Ouzou</option>
        <option>Alger</option>
        <option>Djelfa</option>
        <option>Jijel</option>
        <option>Sétif</option>
        <option>Saïda</option>
        <option>Skikda</option>
        <option>Sidi Bel Abbès</option>
        <option>Annaba</option>
        <option>Guelma</option>
        <option>Constantine</option>
        <option>Médéa</option>
        <option>Mostaganem</option>
        <option>M’Sila</option>
        <option>Mascara</option>
        <option>Ouargla</option>
        <option>Oran</option>
        <option>El Bayadh</option>
        <option>Illizi</option>
        <option>Bordj Bou Arréridj</option>
        <option>Boumerdès</option>
        <option>El Tarf</option>
        <option>Tindouf</option>
        <option>Tissemsilt</option>
        <option>El Oued</option>
        <option>Khenchela</option>
        <option>Souk Ahras</option>
        <option>Tipaza</option>
        <option>Mila</option>
        <option>Aïn Defla</option>
        <option>Naâma</option>
        <option>Aïn Témouchent</option>
        <option>Ghardaïa</option>
        <option>Relizane</option>
        <option>Timimoun</option>
        <option>Bordj Badji Mokhtar</option>
        <option>Ouled Djellal</option>
        <option>Béni Abbès</option>
        <option>In Salah</option>
        <option>In Guezzam</option>
        <option>Touggourt</option>
        <option>Djanet</option>
        <option>El Meghaier</option>
        <option>El Meniaa</option>

        <!-- +11 Krimo -->
        <option>Aflou</option>
        <option>Brikcha (Bir El Ater)</option>
        <option>El-Qantara</option>
        <option>Bir El Ater</option>
        <option>El Aricha</option>
        <option>Ksar Chelala</option>
        <option>Aïn Oussera</option>
        <option>M’saâd</option>
        <option>Ksar El Boukhari</option>
        <option>Boussaâda</option>
        <option>El Abiodh Sidi Cheikh</option>
      </select>

      <small style="display:block;margin-top:8px;opacity:.75;">
        Astuce : sur téléphone, tu peux sélectionner plusieurs wilayas en cliquant une par une.
      </small>
    </div>

    <!-- Titre -->
    <div style="margin-top:12px;">
      <input id="title" placeholder="Titre (ex: PLUIES DILUVIENNES)" style="width:100%;" />
    </div>

    <!-- Message -->
    <div style="margin-top:10px;">
      <textarea id="message" placeholder="Message (ex: Attention, risque inondation...)" style="width:100%; min-height:120px;"></textarea>
    </div>

    <div style="margin-top:14px; display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
      <button id="saveBtn">Publier l’alerte</button>
      <button id="disableBtn" style="background:#e9eef6; color:#111;">Désactiver</button>
      <div id="saveMsg" style="font-weight:600;"></div>
    </div>

    <div style="margin-top:12px;">
      Page publique : <a href="/" target="_blank">/</a> — Admin : <a href="/admin" target="_blank">/admin</a>
    </div>
  </div>

  <script src="/admin.js"></script>
</body>
</html>
