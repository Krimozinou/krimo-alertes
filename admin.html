<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panneau Admin - Krimo Alertes</title>
  <link rel="stylesheet" href="/app.css" />
</head>
<body>

  <!-- ✅ LOGIN -->
  <div id="loginBox" class="card" style="max-width: 680px; margin: 30px auto; padding: 20px;">
    <h1 style="margin:0 0 12px 0;">Panneau Admin</h1>

    <div style="display:flex; gap:10px; flex-wrap:wrap;">
      <input id="username" placeholder="Nom d'utilisateur" style="flex:1; min-width:200px;" />
      <input id="password" type="password" placeholder="Mot de passe" style="flex:1; min-width:200px;" />
      <button id="loginBtn">Connexion</button>
    </div>

    <div id="loginMsg" style="margin-top:10px; color:#b00020;"></div>
  </div>

  <!-- ✅ PANEL (CACHE AU DÉBUT) -->
  <div id="panel" class="card" style="display:none; max-width: 980px; margin: 30px auto; padding: 20px;">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
      <h1 style="margin:0;">Panneau Admin</h1>
      <button id="logoutBtn">Déconnexion</button>
    </div>

    <div style="margin-top:14px; display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
      <!-- Niveau -->
      <div>
        <label style="display:block; margin-bottom:6px;">Niveau</label>
        <select id="level" style="width:100%;">
          <option value="none">Aucune alerte</option>
          <option value="yellow">Jaune (Niveau 01)</option>
          <option value="orange">Orange (Niveau 02)</option>
          <option value="red">Rouge (Niveau 03)</option>
        </select>
      </div>

      <!-- Région -->
      <div>
        <label style="display:block; margin-bottom:6px;">Région</label>
        <select id="region" style="width:100%;">
          <option value="OUEST">OUEST</option>
          <option value="CENTRE-OUEST">CENTRE-OUEST</option>
          <option value="CENTRE">CENTRE</option>
          <option value="CENTRE-EST">CENTRE-EST</option>
          <option value="EST">EST</option>
        </select>
      </div>

      <!-- Début -->
      <div>
        <label style="display:block; margin-bottom:6px;">Début (optionnel)</label>
        <input id="startAt" type="datetime-local" style="width:100%;" />
      </div>

      <!-- Fin -->
      <div>
        <label style="display:block; margin-bottom:6px;">Fin (optionnel)</label>
        <input id="endAt" type="datetime-local" style="width:100%;" />
      </div>
    </div>

    <!-- Titre -->
    <div style="margin-top:12px;">
      <input id="title" placeholder="Titre (ex: PLUIES DILUVIENNES)" style="width:100%;" />
    </div>

    <!-- Message -->
    <div style="margin-top:10px;">
      <textarea id="message" placeholder="Message (ex: Attention, risque inondation...)" style="width:100%; min-height:120px;"></textarea>
    </div>

    <div style="margin-top:14px; display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
      <button id="saveBtn">Publier l’alerte</button>
      <button id="disableBtn" style="background:#e9eef6; color:#111;">Désactiver</button>
      <div id="saveMsg" style="font-weight:600;"></div>
    </div>

    <div style="margin-top:12px;">
      Page publique : <a href="/" target="_blank">/</a> — Admin : <a href="/admin" target="_blank">/admin</a>
    </div>
  </div>

  <script src="/admin.js"></script>
</body>
</html>
